# è¨Šæ¯ç›£æ§å™¨ / Message Monitor

ä¸€å€‹åŠŸèƒ½å¼·å¤§çš„ Chrome æ“´å……åŠŸèƒ½ï¼Œç”¨æ–¼ç›£æ§ç¶²é ä¸Šçš„æ–°è¨Šæ¯ä¸¦ç™¼é€å³æ™‚é€šçŸ¥ã€‚

A powerful Chrome extension for monitoring new messages on web pages and sending real-time notifications.

## ğŸŒŸ åŠŸèƒ½ç‰¹è‰² / Features

### ğŸ“± æ™ºèƒ½è¨Šæ¯ç›£æ§ / Smart Message Monitoring
- **å³æ™‚åµæ¸¬**ï¼šè‡ªå‹•åµæ¸¬ç¶²é ä¸Šçš„æ–°è¨Šæ¯å’Œå…§å®¹æ›´æ–°
- **Real-time Detection**: Automatically detect new messages and content updates on web pages
- **æ™ºèƒ½å»é‡**ï¼šé¿å…é‡è¤‡é€šçŸ¥ï¼Œç¢ºä¿æ¯å€‹è¨Šæ¯åªé€šçŸ¥ä¸€æ¬¡
- **Smart Deduplication**: Prevent duplicate notifications, ensuring each message is notified only once

### ğŸ”” å¤šç¨®é€šçŸ¥æ–¹å¼ / Multiple Notification Methods
- **ç€è¦½å™¨é€šçŸ¥**ï¼šå³æ™‚å½ˆå‡ºé€šçŸ¥ï¼ŒåŒ…å«ç¶²ç«™åœ–ç¤º
- **Browser Notifications**: Instant popup notifications with website icons
- **Email é€šçŸ¥**ï¼šé€é EmailJS ç™¼é€è©³ç´°çš„ Email é€šçŸ¥
- **Email Notifications**: Send detailed email notifications via EmailJS

### ğŸŒ å¤šèªè¨€æ”¯æ´ / Multi-language Support
- **ä¸­æ–‡ / ç¹é«”ä¸­æ–‡**ï¼šå®Œæ•´çš„ç¹é«”ä¸­æ–‡ä»‹é¢
- **Traditional Chinese**: Complete Traditional Chinese interface
- **English**ï¼šFull English interface support
- **English**: Full English interface support
- **å¯æ“´å……**ï¼šæœªä¾†å¯è¼•é¬†æ·»åŠ æ›´å¤šèªè¨€
- **Extensible**: Easy to add more languages in the future

### ğŸ¯ ç²¾ç¢ºç¶²å€æ§åˆ¶ / Precise URL Control
- **Overleaf å°ˆç”¨**ï¼šé è¨­å•Ÿç”¨ Overleaf ç›£æ§
- **Overleaf Specific**: Overleaf monitoring enabled by default
- **éˆæ´»è¨­å®š**ï¼šæ”¯æ´åŸŸåæˆ–å®Œæ•´ç¶²å€ç›£æ§
- **Flexible Settings**: Support domain or full URL monitoring
- **æ‰¹é‡ç®¡ç†**ï¼šè¼•é¬†ç®¡ç†å¤šå€‹ç›£æ§ç¶²å€
- **Batch Management**: Easy management of multiple monitoring URLs

### âš™ï¸ å€‹äººåŒ–è¨­å®š / Personalized Settings
- **è‡ªå·±è¨Šæ¯æ§åˆ¶**ï¼šé¸æ“‡æ˜¯å¦é€šçŸ¥è‡ªå·±ç™¼é€çš„è¨Šæ¯
- **Own Message Control**: Choose whether to notify your own messages
- **Email æ•´åˆ**ï¼šå®Œæ•´çš„ EmailJS è¨­å®šæ”¯æ´
- **Email Integration**: Complete EmailJS configuration support

## ğŸš€ å®‰è£æ–¹å¼ / Installation

### é–‹ç™¼è€…æ¨¡å¼å®‰è£ / Developer Mode Installation

1. **ä¸‹è¼‰æ“´å……åŠŸèƒ½**
   ```bash
   git clone https://github.com/WWW5911/Overleaf_Chat_Notification.git
   cd Overleaf_Chat_Notification
   ```

2. **é–‹å•Ÿ Chrome æ“´å……åŠŸèƒ½é é¢**
   - åœ¨ Chrome ç¶²å€åˆ—è¼¸å…¥ï¼š`chrome://extensions/`
   - Enter in Chrome address bar: `chrome://extensions/`

3. **å•Ÿç”¨é–‹ç™¼è€…æ¨¡å¼**
   - é–‹å•Ÿå³ä¸Šè§’çš„ã€Œé–‹ç™¼äººå“¡æ¨¡å¼ã€é–‹é—œ
   - Enable "Developer mode" toggle in the top right

4. **è¼‰å…¥æ“´å……åŠŸèƒ½**
   - é»æ“Šã€Œè¼‰å…¥æœªå°è£é …ç›®ã€
   - Click "Load unpacked"
   - é¸æ“‡æ“´å……åŠŸèƒ½è³‡æ–™å¤¾
   - Select the extension folder

## ğŸ“– ä½¿ç”¨èªªæ˜ / Usage Guide

### 1. åŸºæœ¬è¨­å®š / Basic Setup

#### èªè¨€è¨­å®š / Language Settings
- é»æ“Šæ“´å……åŠŸèƒ½åœ–ç¤ºé–‹å•Ÿè¨­å®šé é¢
- Click the extension icon to open settings
- åœ¨ã€Œèªè¨€è¨­å®šã€å€åŸŸé¸æ“‡æ‚¨åå¥½çš„èªè¨€
- Select your preferred language in "Language Settings"

#### é€šçŸ¥è¨­å®š / Notification Settings
- âœ… **å•Ÿç”¨é€šçŸ¥** / Enable Notifications
- âœ… **å•Ÿç”¨Emailé€šçŸ¥** / Enable Email Notifications  
- âœ… **é€šçŸ¥è‡ªå·±ç™¼é€çš„è¨Šæ¯** / Notify Own Messages
- ğŸ“§ **Emailåœ°å€** / Email Address

### 2. ç¶²å€ç›£æ§è¨­å®š / URL Monitoring Settings

#### Overleaf å¿«é€Ÿå•Ÿç”¨ / Overleaf Quick Enable
- é è¨­å·²å•Ÿç”¨ Overleaf (www.overleaf.com) ç›£æ§
- Overleaf (www.overleaf.com) monitoring is enabled by default
- å¯éš¨æ™‚åœ¨è¨­å®šä¸­é–‹å•Ÿæˆ–é—œé–‰
- Can be toggled on/off in settings anytime

#### ç›£æ§ç¯„åœé¸æ“‡ / Monitoring Scope Selection
- **æ•´å€‹åŸŸå**ï¼šç›£æ§æ•´å€‹ç¶²ç«™ (ä¾‹ï¼šexample.com)
- **Entire Domain**: Monitor entire website (e.g., example.com)
- **å®Œæ•´ç¶²å€**ï¼šåªç›£æ§ç‰¹å®šé é¢ (ä¾‹ï¼šexample.com/chat)
- **Full URL**: Monitor specific pages only (e.g., example.com/chat)

#### ç¶²å€ç®¡ç† / URL Management
- æ–°å¢ç›®å‰ç¶²ç«™åˆ°ç›£æ§æ¸…å–®
- Add current site to monitoring list
- æŸ¥çœ‹å·²å•Ÿç”¨çš„ç›£æ§ç¶²å€
- View enabled monitoring URLs
- å€‹åˆ¥ç§»é™¤æˆ–æ‰¹é‡æ¸…é™¤
- Remove individually or clear all

### 3. EmailJS è¨­å®š / EmailJS Configuration

#### è¨»å†Š EmailJS æœå‹™ / Register EmailJS Service
1. å‰å¾€ [EmailJS](https://www.emailjs.com/) è¨»å†Šå¸³è™Ÿ
   Visit [EmailJS](https://www.emailjs.com/) to register
2. å»ºç«‹ Email æœå‹™å’Œæ¨¡æ¿
   Create email service and template
3. å–å¾—å¿…è¦çš„è¨­å®šè³‡è¨Š
   Obtain required configuration info

#### è¨­å®šåƒæ•¸ / Configuration Parameters
- **Service ID**ï¼šEmailJS æœå‹™ ID
- **Service ID**: EmailJS service identifier
- **Template ID**ï¼šEmail æ¨¡æ¿ ID  
- **Template ID**: Email template identifier
- **Public Key**ï¼šEmailJS å…¬é–‹é‡‘é‘°
- **Public Key**: EmailJS public key

## ğŸ”§ æŠ€è¡“æ¶æ§‹ / Technical Architecture

### æª”æ¡ˆçµæ§‹ / File Structure
```
Overleaf_Chat_Notification/
â”œâ”€â”€ manifest.json              # æ“´å……åŠŸèƒ½é…ç½® / Extension manifest
â”œâ”€â”€ background.js              # èƒŒæ™¯è…³æœ¬ / Background script
â”œâ”€â”€ content.js                 # å…§å®¹è…³æœ¬ / Content script
â”œâ”€â”€ popup.html                 # è¨­å®šä»‹é¢ / Settings interface
â”œâ”€â”€ popup.js                   # è¨­å®šé‚è¼¯ / Settings logic
â”œâ”€â”€ languages/                 # èªè¨€åŒ… / Language packs
â”‚   â”œâ”€â”€ language-manager.js    # èªè¨€ç®¡ç†å™¨ / Language manager
â”‚   â”œâ”€â”€ zh-TW.js              # ç¹é«”ä¸­æ–‡ / Traditional Chinese
â”‚   â””â”€â”€ en-US.js              # è‹±æ–‡ / English
â””â”€â”€ README.md                  # èªªæ˜æ–‡ä»¶ / Documentation
```

### æ ¸å¿ƒæŠ€è¡“ / Core Technologies
- **Manifest V3**ï¼šæœ€æ–°çš„ Chrome æ“´å……åŠŸèƒ½æ¨™æº–
- **Manifest V3**: Latest Chrome extension standard
- **Service Worker**ï¼šé«˜æ•ˆçš„èƒŒæ™¯è™•ç†
- **Service Worker**: Efficient background processing
- **MutationObserver**ï¼šå³æ™‚ DOM è®ŠåŒ–ç›£æ§
- **MutationObserver**: Real-time DOM change monitoring
- **Chrome Storage API**ï¼šè¨­å®šåŒæ­¥å„²å­˜
- **Chrome Storage API**: Synchronized settings storage

### ç›£æ§æ©Ÿåˆ¶ / Monitoring Mechanism
1. **é é¢è¼‰å…¥æª¢æ¸¬**ï¼šç­‰å¾…é é¢å®Œå…¨è¼‰å…¥å¾Œé–‹å§‹ç›£æ§
   **Page Load Detection**: Start monitoring after page fully loads
2. **é›™é‡ç›£æ§**ï¼šMutationObserver + å®šæ™‚æª¢æŸ¥
   **Dual Monitoring**: MutationObserver + Periodic checks
3. **æ™ºèƒ½å»é‡**ï¼šé¿å…é‡è¤‡é€šçŸ¥ç›¸åŒè¨Šæ¯
   **Smart Deduplication**: Prevent duplicate notifications
4. **é€šçŸ¥åˆä½µ**ï¼šåˆä½µç›¸é—œé€šçŸ¥ï¼Œæ¸›å°‘å¹²æ“¾
   **Notification Merging**: Merge related notifications

## ğŸ¨ è‡ªè¨‚èˆ‡æ“´å…… / Customization & Extension

### æ–°å¢èªè¨€æ”¯æ´ / Adding Language Support

1. **å»ºç«‹èªè¨€æª”æ¡ˆ** / Create Language File
   ```javascript
   // languages/ja-JP.js
   const ja_JP = {
     title: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ¢ãƒ‹ã‚¿ãƒ¼è¨­å®š",
     // ... å…¶ä»–ç¿»è­¯ / other translations
   };
   ```

2. **æ›´æ–°èªè¨€ç®¡ç†å™¨** / Update Language Manager
   ```javascript
   getAvailableLanguages() {
     return [
       { code: 'zh-TW', name: 'ä¸­æ–‡' },
       { code: 'en-US', name: 'English' },
       { code: 'ja-JP', name: 'æ—¥æœ¬èª' }  // æ–°å¢ / Add new
     ];
   }
   ```

3. **æ›´æ–°è¨­å®šä»‹é¢** / Update Settings Interface
   ```html
   <option value="ja-JP">æ—¥æœ¬èª</option>
   ```

### è‡ªè¨‚è¨Šæ¯çµæ§‹ / Custom Message Structure

å¦‚æœæ‚¨çš„ç¶²ç«™ä½¿ç”¨ä¸åŒçš„è¨Šæ¯çµæ§‹ï¼Œå¯ä»¥ä¿®æ”¹ `content.js` ä¸­çš„é¸æ“‡å™¨ï¼š
If your website uses different message structure, modify selectors in `content.js`:

```javascript
// ä¿®æ”¹é€™äº›é¸æ“‡å™¨ä»¥ç¬¦åˆæ‚¨çš„ç¶²ç«™çµæ§‹
// Modify these selectors to match your website structure
const messages = document.querySelectorAll('.your-message-class');
const nameElement = messageElement.querySelector('.your-name-class');
const contentElement = messageElement.querySelector('.your-content-class');
```

## ğŸ› ç–‘é›£æ’è§£ / Troubleshooting

### å¸¸è¦‹å•é¡Œ / Common Issues

#### 1. æ“´å……åŠŸèƒ½ç„¡æ³•è¼‰å…¥ / Extension Won't Load
- **æª¢æŸ¥ manifest.json èªæ³•**
- **Check manifest.json syntax**
- **ç¢ºèªæ‰€æœ‰æª”æ¡ˆéƒ½å­˜åœ¨**
- **Ensure all files exist**
- **æŸ¥çœ‹ Chrome é–‹ç™¼è€…å·¥å…·çš„éŒ¯èª¤è¨Šæ¯**
- **Check Chrome DevTools for error messages**

#### 2. ç„¡æ³•åµæ¸¬åˆ°è¨Šæ¯ / Messages Not Detected
- **æª¢æŸ¥ç¶²ç«™æ˜¯å¦åœ¨ç›£æ§æ¸…å–®ä¸­**
- **Check if website is in monitoring list**
- **ç¢ºèªè¨Šæ¯çµæ§‹æ˜¯å¦ç¬¦åˆé æœŸ**
- **Verify message structure matches expectations**
- **æŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦æœ‰éŒ¯èª¤**
- **Check console for errors**

#### 3. Email é€šçŸ¥ç„¡æ³•ç™¼é€ / Email Notifications Not Working
- **é©—è­‰ EmailJS è¨­å®šæ˜¯å¦æ­£ç¢º**
- **Verify EmailJS configuration is correct**
- **æª¢æŸ¥ Email åœ°å€æ ¼å¼**
- **Check email address format**
- **ç¢ºèª EmailJS æœå‹™ç‹€æ…‹**
- **Confirm EmailJS service status**

#### 4. èªè¨€åˆ‡æ›ç„¡æ•ˆ / Language Switch Not Working
- **é‡æ–°æ•´ç†è¨­å®šé é¢**
- **Refresh settings page**
- **æª¢æŸ¥èªè¨€æª”æ¡ˆæ˜¯å¦è¼‰å…¥**
- **Check if language files are loaded**
- **æ¸…é™¤ç€è¦½å™¨å¿«å–**
- **Clear browser cache**

### é™¤éŒ¯æ¨¡å¼ / Debug Mode

é–‹å•Ÿ Chrome é–‹ç™¼è€…å·¥å…·æŸ¥çœ‹è©³ç´°æ—¥èªŒï¼š
Open Chrome DevTools to view detailed logs:

```javascript
// åœ¨æ§åˆ¶å°ä¸­å•Ÿç”¨è©³ç´°æ—¥èªŒ
// Enable verbose logging in console
localStorage.setItem('messageMonitorDebug', 'true');
```

## ğŸ“ æ›´æ–°æ—¥èªŒ / Changelog

### v1.0.0
- ğŸ‰ åˆå§‹ç‰ˆæœ¬ç™¼å¸ƒ
- ğŸ‰ Initial release
- ğŸ“± åŸºæœ¬è¨Šæ¯ç›£æ§åŠŸèƒ½
- ğŸ“± Basic message monitoring functionality

## ğŸ¤ è²¢ç» / Contributing

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼
Issues and Pull Requests are welcome!

### é–‹ç™¼ç’°å¢ƒè¨­å®š / Development Setup
1. Fork æ­¤å°ˆæ¡ˆ / Fork this repository
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ / Create feature branch
3. æäº¤è®Šæ›´ / Commit changes
4. æ¨é€åˆ°åˆ†æ”¯ / Push to branch
5. å»ºç«‹ Pull Request / Create Pull Request

## ğŸ“„ æˆæ¬Š / License

MIT License - è©³è¦‹ LICENSE æª”æ¡ˆ
MIT License - See LICENSE file for details


**äº«å—ç„¡å¹²æ“¾çš„è¨Šæ¯ç›£æ§é«”é©—ï¼**
**Enjoy distraction-free message monitoring!**